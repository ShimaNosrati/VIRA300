// =================================================================================================
//   CDrawNodeText class.
//
// Copyright © InnovMetric Logiciels Inc. 2007 All Rights Reserved
// -------------------------------------------------------------------------------------------------

// =================================================================================================
// ======================================= INCLUDED FILES ==========================================

#include "CDrawNodeText.h"

#include <PolyWorksSDK/Geom/CPoint2D.h>
#include <PolyWorksSDK/Geom/FnIGeometry.h>
#include <PolyWorksSDK/Geom/IBBox.h>
#include <PolyWorksSDK/UI/CRenderColor.h>
#include <PolyWorksSDK/UI/IRenderer.h>

// =================================================================================================
// ========================================= NAMESPACES ============================================

// =================================================================================================
// =========================================== MACROS ==============================================

// =================================================================================================
// ====================================== CONSTANTS, ENUMS =========================================

// =================================================================================================
// ================================ TYPES, CLASSES, STRUCTURES =====================================

// =================================================================================================
// ================================== STATIC MEMBER VARIABLES ======================================

// =================================================================================================
// ===================================== GLOBAL VARIABLES ==========================================

// =================================================================================================
// =================================== FUNCTIONS PROTOTYPES ========================================

// =================================================================================================
// =================================== FUNCTIONS DEFINITIONS =======================================

// =================================================================================================
// Constructor configuring the draw node.
//
// Parameter: name_ : Draw node's name
// Parameter: text_ : Text to be displayed.
// -------------------------------------------------------------------------------------------------
CDrawNodeText::CDrawNodeText( const IM::CWString& name_,
                              const IM::CWString& text_ )
: m_name( name_ )
, m_text( text_ )
{
    IM::Create( m_pBBox );
}


// =================================================================================================
// Deallocate memory associated to the drawn geometry.
// -------------------------------------------------------------------------------------------------
CDrawNodeText::~CDrawNodeText()
{
    IM::Destroy( m_pBBox );
}


// =================================================================================================
// Returns the bounding box for this draw node.
//
// Return: Bounding box (not used because we draw in 2D)
// -------------------------------------------------------------------------------------------------
const IM::IBBox& CDrawNodeText::BBoxGet() const
{
    return *m_pBBox;
}


// =================================================================================================
// Draws 3D points in the 3D Scene.
//
// Parameter: renderer_ : Reference to the rendering engine.
// -------------------------------------------------------------------------------------------------
void CDrawNodeText::Draw( IM::IRenderer& renderer_ )
{
    IM::CRenderColor renderColor( IM::CColorRGBA( 255, 255, 0 ) );
    renderer_.Text2DDraw( IM::CPoint2D( 30, 30 ), m_text );
}


// =================================================================================================
// Return the draw node's name
//
// Return: Draw node's name
// -------------------------------------------------------------------------------------------------
IM::CWString CDrawNodeText::NameGet() const
{
    return m_name;
}
